<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API Fake</title>
</head>
<body>
    <h1>API Fake</h1>
    <p>Esperando dados...</p>

    <script>
        console.log("token.html carregado e aguardando mensagens...");

        window.addEventListener("message", (event) => {
            console.log("Mensagem recebida!", event); // Verifica qualquer mensagem recebida

            if (typeof event.data === "string") {
                console.log("Dado recebido:", event.data); // Deve imprimir a string aleat√≥ria
                document.querySelector("p").textContent = "Dados recebidos!";

                // Enviar resposta de volta
                event.source.postMessage("OK", event.origin);
            }
        });
    </script>
</body>
</html>