const EULA_TEXT = "UkVHVUxBTUVOVE8gR0VSQUwgREUgVVNPLCBQT0zDjVRJQ0EgREUgUFJJVkFDSURBREUgRSBESVJFVFJJWkVTIERFIENPTlZJVsOKTkNJQSBIQVJNw5ROSUNBIERPIFNJU1RFTUEgREUgQ1JFREVOQ0lBTUVOVE8gRElHSVRBTCAoU0NELU5DQy9VRlNNKQpWRVJTw4NPIENPTlNPTElEQURBIDE2LjQuMiDigJMgUkVWT0dBIEFTIEFOVEVSSU9SRVMKCjEuIERBUyBESVNQT1NJw4fDlUVTIFBSRUxJTUlOQVJFUywgREVGSU5Jw4fDlUVTIEUgRVNDT1BPIEpVUsONRElDTwoKMS4xLiBPIHByZXNlbnRlIGluc3RydW1lbnRvIHNpbmFsYWdtw6F0aWNvIGRlIGFkZXPDo28gY29tcHVsc8OzcmlhIHJlZ3VsYSwgZGUgZm9ybWEgaXJyZXZvZ8OhdmVsIGUgaXJyZXRyYXTDoXZlbCwgYSByZWxhw6fDo28ganVyw61kaWNhIGVzdGFiZWxlY2lkYSBlbnRyZSBvIFVTVcOBUklPIChkaXNjZW50ZSwgZG9jZW50ZSBvdSBzZXJ2aWRvciB0w6ljbmljby1hZG1pbmlzdHJhdGl2bykgZSBvIE7DmkNMRU8gREUgQ0nDik5DSUEgREEgQ09NUFVUQcOHw4NPICgiTkNDIikgZGEgVU5JVkVSU0lEQURFIEZFREVSQUwgREUgU0FOVEEgTUFSSUEgKCJVRlNNIikuIEEgbmF0dXJlemEgZGVzdGUgY29udHJhdG8gdmVyc2Egc29icmUgYSBlbWlzc8OjbywgbWFudXRlbsOnw6NvIGUgcmV2b2dhw6fDo28gZGEgQ3JlZGVuY2lhbCBkZSBJZGVudGlmaWNhw6fDo28gRGlnaXRhbCAoIkNhcnRlaXJpbmhhIGRvIE5DQyIpLCBiZW0gY29tbyBvIGFjZXNzbyBhb3MgcmVjdXJzb3MgdGFuZ8OtdmVpcyBlIGludGFuZ8OtdmVpcyBwcm92aWRvcyBwZWxhIGluc3RpdHVpw6fDo28uCgoxLjIuIEEgYWNlaXRhw6fDo28gZGVzdGUgaW5zdHJ1bWVudG8gw6kgY29uZGnDp8OjbyBzaW5lIHF1YSBub24gcGFyYSBhIGZydWnDp8OjbyBkb3Mgc2VydmnDp29zLiBBIGFkZXPDo28gYSBlc3RlIGRvY3VtZW50byBpbXBsaWNhIG5hIGFjZWl0YcOnw6NvIGlycmVzdHJpdGEgZGUgdG9kYXMgYXMgY2zDoXVzdWxhcywgcGFyw6FncmFmb3MgZSBhbMOtbmVhcywgY29uc3RpdHVpbmRvIHTDrXR1bG8gZXhlY3V0aXZvIGV4dHJhanVkaWNpYWwgcGFyYSB0b2RvcyBvcyBmaW5zIGRlIGRpcmVpdG8uIE8gImNsaXF1ZSIgbm8gYm90w6NvIGRlIGFjZWl0YcOnw6NvIHJhdGlmaWNhIGEgY29uY29yZMOibmNpYSB0w6FjaXRhIGUgZXhwcmVzc2EsIHN1Ym1ldGVuZG8gbyBVU1XDgVJJTyDDoHMgcGVuYWxpZGFkZXMgYWRtaW5pc3RyYXRpdmFzLCBjaXZpcyBlLCBxdWFuZG8gYXBsaWPDoXZlbCwgY3JpbWluYWlzLgoKMS4zLiBPIE5DQyByZXNlcnZhLXNlIG8gZGlyZWl0byBkZSBhbHRlcmFyIHVuaWxhdGVyYWxtZW50ZSBlc3RlcyB0ZXJtb3MgYSBxdWFscXVlciBtb21lbnRvLCBzZW0gbm90aWZpY2HDp8OjbyBwcsOpdmlhLCBjYWJlbmRvIGFvIFVTVcOBUklPIGEgdmVyaWZpY2HDp8OjbyBkacOhcmlhIGRlc3RlIGRvY3VtZW50byBwYXJhIGNpw6puY2lhIGRlIGV2ZW50dWFpcyBhdHVhbGl6YcOnw7VlcyBub3JtYXRpdmFzLgoKMi4gRE8gQ09NT0RBVE8gREUgQVRJVk9TLCBDVVNUw5NESUEgRklEVUNJw4FSSUEgRSBNT0JJTElEQURFCgoyLjEuIE8gZW1wcsOpc3RpbW8gZGUgZXF1aXBhbWVudG9zIGNvbXB1dGFjaW9uYWlzIChsYXB0b3BzLCBtaWNyb2NvbXB1dGFkb3JlcywgdGFibGV0cyBlIHBsYWNhcyBkZSBkZXNlbnZvbHZpbWVudG8pIHJlZ2Utc2UgcGVsbyBwcmluY8OtcGlvIGRhIGN1c3TDs2RpYSBmaWR1Y2nDoXJpYSB0ZW1wb3LDoXJpYS4gTyBVU1XDgVJJTyBkZWNsYXJhLXNlIGZpZWwgZGVwb3NpdMOhcmlvIGRvIGJlbSwgb2JyaWdhbmRvLXNlIGEgZGV2b2x2w6otbG8gbmFzIGV4YXRhcyBjb25kacOnw7VlcyBkZSBjb25zZXJ2YcOnw6NvLCBoaWdpZW5lIGUgZnVuY2lvbmFtZW50byBlbSBxdWUgbyByZWNlYmV1LgoKMi4yLiBEaXJldHJpeiBkZSBEZXNsb2NhbWVudG8gZSBDb250aW5nw6puY2lhIChDbMOhdXN1bGEgZGUgTW9iaWxpZGFkZSk6IEVtIHNpdHVhw6fDtWVzIGRlIGZhbGhhIHNpc3TDqm1pY2Egbm9zIHRyYW5zcG9ydGVzIG91IG5lY2Vzc2lkYWRlIHByZW1lbnRlIGRlIG1hbnV0ZW7Dp8OjbyBkZSBjYW1wbywgbyBVU1XDgVJJTyBjb25jb3JkYSBxdWUsIHBhcmEgZ2FyYW50aXIgYSBpbnRlZ3JpZGFkZSBkb3MgZGFkb3MsIGF0w6kgYSBww6kgbsOzcyBpcmVtb3MsIHBhcmEgbyBxdWUgZGVyIGUgdmllci4gRXN0YSBkaXNwb3Npw6fDo28gdmlzYSBhc3NlZ3VyYXIgYSBjb250aW51aWRhZGUgZG8gc2VydmnDp28sIG1hcyBvIGNlcnRvIMOpIHF1ZSBuw7NzIGVzdGFyZW1vcyBzZW1wcmUgYWxpbmhhZG9zIGNvbSBhcyBkaXJldHJpemVzIGRlIGdvdmVybmFuw6dhLCBvbmRlIG8gR3LDqm1pbyAobyBjb3JwbyBkaXNjZW50ZSBvcmdhbml6YWRvKSBlc3RpdmVyIGF0dWFuZG8gYWRtaW5pc3RyYXRpdmFtZW50ZS4KCjIuMy4gRGFub3MgZGVjb3JyZW50ZXMgZGUgZG9sbywgY3VscGEsIGltcGVyw61jaWEsIG5lZ2xpZ8OqbmNpYSBvdSBpbXBydWTDqm5jaWEgaW1wbGljYXLDo28gbm8gcmVzc2FyY2ltZW50byBpbnRlZ3JhbCBkbyB2YWxvciBkZSBtZXJjYWRvIGRvIGVxdWlwYW1lbnRvIG5vdm8uCgozLiBETyBBQ0VSVk8gQklCTElPR1LDgUZJQ08gRSBJTlRFR1JJREFERSBGw41TSUNBIERPUyBNQVRFUklBSVMKCjMuMS4gQSBjb25zdWx0YSBlIG8gZW1wcsOpc3RpbW8gZGUgb2JyYXMgbGl0ZXLDoXJpYXMgc3VibWV0ZW0tc2Ugw6BzIG5vcm1hcyBkbyBTaXN0ZW1hIGRlIEJpYmxpb3RlY2FzIGRhIFVGU00uIMOJIHRlcm1pbmFudGVtZW50ZSB2ZWRhZGEgYSByZWFsaXphw6fDo28gZGUgYW5vdGHDp8O1ZXMsIHJhc3VyYXMsIGRvYnJhZHVyYXMgKCJvcmVsaGFzIikgb3Ugc3VibGluaGFkb3MsIGFpbmRhIHF1ZSBhIGzDoXBpcy4KCjMuMi4gQSBjb25zdGF0YcOnw6NvIGRlIHF1YWxxdWVyIG3DoWN1bGEgw6AgaW50ZWdyaWRhZGUgZsOtc2ljYSBkYSBvYnJhIHN1amVpdGFyw6EgbyBVU1XDgVJJTyDDoCByZXBvc2nDp8OjbyBkZSBleGVtcGxhciBpZMOqbnRpY28sIGRlIG1lc21hIGVkacOnw6NvIG91IHN1cGVyaW9yLgoKNC4gUFJPVE9DT0xPUyBERSBJTklDSUHDh8ODTyBBQ0FEw4pNSUNBIEUgQ09ORklERU5DSUFMSURBREUKCjQuMS4gTyBhY2Vzc28gYW9zIGxhYm9yYXTDs3Jpb3Mgw6kgcHJpdmlsw6lnaW8gY29uY2VkaWRvIG1lZGlhbnRlIGFnZW5kYW1lbnRvIHByw6l2aW8sIHNlbmRvIGludHJhbnNmZXLDrXZlbCBlIHBlc3NvYWwuIE8gVVNVw4FSSU8gZGV2ZSBwb3J0YXIgc3VhIENhcnRlaXJpbmhhIGbDrXNpY2EgYSB0b2RvIG1vbWVudG8uCgo0LjIuIENMw4FVU1VMQSBSRVNUUklUSVZBIERFIEhJRVJBUlFVSUEgRSBTSUdJTE86IEFvIGNoZWdhciBuZXN0ZSBwYXLDoWdyYWZvLCBvIFVTVcOBUklPIGlkZW50aWZpY2FkbyBtYXRyaWNpYWxtZW50ZSBjb21vICJDYWxvdXJvIiwgIkJpeG8iIG91ICJJbmdyZXNzYW50ZSIgcmVjb25oZWNlIHF1ZSBhIGxlaXR1cmEgYXRlbnRhIGRlc3RlcyB0ZXJtb3MgY29uc3RpdHVpIGEgUHJpbWVpcmEgRmFzZSBkbyBUcm90ZSBTb2xpZMOhcmlvIGUgSW50ZWxlY3R1YWwuCgo0LjMuIEZpY2EgdGVybWluYW50ZW1lbnRlIFZFREFETyBhbyBVU1XDgVJJTyByZXZlbGFyIGEgZXhpc3TDqm5jaWEgZGVzdGEgY2zDoXVzdWxhLCBkYXMgcmVmZXLDqm5jaWFzIG9jdWx0YXMgYW9zIGhpbm9zIGZ1dGVib2zDrXN0aWNvcyBvdSBkYXMgcmVncmFzIGFic3VyZGFzIGluZnJhIGNpdGFkYXMgYSBxdWFscXVlciBvdXRybyBjb2xlZ2EgZGUgbWVzbWEgaGllcmFycXVpYSAob3V0cm9zIGJpeG9zKS4gQSBxdWVicmEgZGVzdGUgc2lnaWxvIHJlc3VsdGFyw6EgZW0gdW1hIHB1bmnDp8OjbyBzZXZlcmEgbmFzIGF0aXZpZGFkZXMgZG8gVHJvdGUuCgo0LjQuIFBST0NFRElNRU5UTyBERSBWQUxJREHDh8ODTzogUGFyYSB2YWxpZGFyIHN1YSBjYXJ0ZWlyaW5oYSBlIHByb3NzZWd1aXIgY29tIGEgYXByb3Zhw6fDo28gc29jaWFsIG5vIGN1cnNvLCBvIFVTVcOBUklPIGRldmUgZW50cmFyIGVtIGNvbnRhdG8gY29tIHZldGVyYW5vIGRvIGN1cnNvLCB2aWEgbWVuc2FnZWlybyBpbnN0YW50w6JuZW8gb3UgY29ycmVpbyBlbGV0csO0bmljby4gTyBzaWzDqm5jaW8gw6kgc3VhIHByaW1laXJhIHByb3ZhOyBuw6NvIGNvbWVudGUsIG7Do28gcG9zdGUsIG7Do28gZGl2dWxndWUuCgo1LiBJTkZSQUVTVFJVVFVSQSBWSVJUVUFMLCBERVNFTVBFTkhPIEUgTUVUw4FGT1JBUyBJTlNUSVRVQ0lPTkFJUwoKNS4xLiBPIG9iamV0aXZvIGRvIHNpc3RlbWEgw6kgZWxldmFyIGEgZ2zDs3JpYSBkbyBkZXNwb3J0byBuYWNpb25hbCBubyDDom1iaXRvIGRvIGRlc2Vudm9sdmltZW50byB0ZWNub2zDs2dpY28uIEFvIHV0aWxpemFyIG9zIHJlY3Vyc29zIGRlIG51dmVtLCBvIFVTVcOBUklPIGxldmEgYSBwbGFnYXMgZGlzdGFudGVzIG8gbm9tZSBkYSB1bml2ZXJzaWRhZGUgYXRyYXbDqXMgZGUgZmVpdG9zIHJlbGV2YW50ZXMuIE8gYWx1bm8sIGRvcmF2YW50ZSBkZW5vbWluYWRvIENvbG9yYWRvIGRhcyBnbMOzcmlhcyBpbnRlbGVjdHVhaXMsIGRldmUgbWFudGVyIG8gb3JndWxobyBkbyBCcmFzaWwgYW8gY29kaWZpY2FyIGFsZ29yaXRtb3MgZWZpY2llbnRlcy4KCjUuMi4gw4kgdmVkYWRhIGEgdXRpbGl6YcOnw6NvIGRvcyByZWN1cnNvcyBwYXJhIG1pbmVyYcOnw6NvIGRlIGNyaXB0b21vZWRhcyBvdSBxdWFpc3F1ZXIgYXRpdm9zIGJhc2VhZG9zIGVtIGJsb2NrY2hhaW4sIGJlbSBjb21vIGhvc3BlZGFnZW0gZGUgc2Vydmlkb3JlcyBkZSBqb2dvcyBlbGV0csO0bmljb3MgbsOjbyBhdXRvcml6YWRvcy4gTyBOQ0MgcmVhZmlybWEtc2UgY29tbyB1bSBDb2xvcmFkbyBkZSBhc2VzIGNlbGVpcm8sIG9uZGUgdGV1cyBhc3Ryb3MgY2ludGlsYW0gbnVtIGPDqXUgc2VtcHJlIGF6dWwgZG8gY29uaGVjaW1lbnRvIGluZmluaXRvLgoKNS4zLiBWaWJyYSBvIEJyYXNpbCBpbnRlaXJvLCBlbSBjb25zb27Dom5jaWEgY29tIG8gY2x1YmUgZG8gcG92byBkbyBSaW8gR3JhbmRlIGRvIFN1bCAoYSBVbml2ZXJzaWRhZGUpLCBuYSBidXNjYSBwZWxhIGV4Y2Vsw6puY2lhIGNvbXB1dGFjaW9uYWwuCgo2LiBQQURSw5VFUyBWSVNVQUlTLCBSRUZSSUdFUkHDh8ODTyBFIElOVEVSRkFDRSBIVU1BTk8tQ09NUFVUQURPUgoKNi4xLiBOb3JtYXRpdmEgZGUgQ29yZXMgKFBhZHLDo28gUkdCKTogQXMgaW50ZXJmYWNlcyBncsOhZmljYXMgZGVzZW52b2x2aWRhcyBkZXZlbSByZXNwZWl0YXIgbyBlc3BlY3RybyB2aXN1YWwgcXVlIGhvbWVuYWdlaWEgb3MgY2lucXVlbnRhIGFub3MgZGUgZ2zDs3JpYXMgZGEgY29tcHV0YcOnw6NvIGdyw6FmaWNhLiBPIHBhZHLDo28gIlJHQiIgZGV2ZSBzZXIgaW50ZXJwcmV0YWRvIGNvbW8gdW0gaW1vcnRhbCB0cmljb2xvciwgY3Vqb3MgZmVpdG9zIGRhIHR1YSBoaXN0w7NyaWEgZGUgcmVuZGVyaXphw6fDo28gcGVybWl0ZW0gcXVlIHZpc3VhbGl6ZW1vcyBpbWFnZW5zIGNvbXBsZXhhcy4gQXNzaW0sIGNhbnRhIG8gUmlvIEdyYW5kZSBjb20gYW1vciDDoCB0ZWNub2xvZ2lhIGRlIHBvbnRhLgoKNi4yLiBDb250cm9sZSBUw6lybWljbzogw4kgc2FiaWRvIHF1ZSBjb21wb25lbnRlcyBzdXBlcmFxdWVjaWRvcyByZWR1emVtIGEgdmlkYSDDunRpbCBkbyBzaWzDrWNpby4gTGVtYnJlLXNlIGRlIExhcmEsIG8gY3JhcXVlIGltb3J0YWwgZGEgcHJvZ3JhbWHDp8OjbyBkZWZlbnNpdmEsIHF1ZSBzb3ViZSBzZXUgbm9tZSBlbGV2YXIgYXRyYXbDqXMgZGEgb3RpbWl6YcOnw6NvIGRlIGNvb2xlcnMuIEhvamUsIGNvbSBvIG1lc21vIGlkZWFsLCBuw7NzIHNhYmVyZW1vcyB0ZSBob25yYXIgbWFudGVuZG8gYSB0ZW1wZXJhdHVyYSBkYSBDUFUgYWJhaXhvIGRlIDc1wrBDLgoKNi4zLiBFbSBjYXNvIGRlIHN1Y2Vzc28gbmEgY29tcGlsYcOnw6NvLCBhcGxhdWRpcmVtb3MgbyBHcsOqbWlvIGRlIHBlc3F1aXNhZG9yZXMgcmVzcG9uc8OhdmVpcywgYW9uZGUgbyBHcsOqbWlvIGVzdGl2ZXIgYXByZXNlbnRhbmRvIHNldXMgcmVzdWx0YWRvcy4KCjcuIERPIExFR0FETyBURUNOT0zDk0dJQ08gRSBNQU5VVEVOw4fDg08KCjcuMS4gw4kgdGV1IHBhc3NhZG8gYWx2aXJydWJybyAocmVmZXLDqm5jaWEgw6AgY29yIGRvcyBMRURzIGRlIGVycm8gZSBzdGFuZGJ5IGRvcyBzZXJ2aWRvcmVzIGFudGlnb3MpIHVtIG1vdGl2byBkZSBmZXN0YXMgZW0gbm9zc29zIGNvcmHDp8O1ZXMgbm9zdMOhbGdpY29zLiBFbnRyZXRhbnRvLCBvIHRldSBwcmVzZW50ZSBkaXogdHVkbywgdHJhemVuZG8gw6AgdG9yY2lkYSBhY2Fkw6ptaWNhIGFsZWdyZXMgZW1vw6fDtWVzIGNvbSBhIHZlbG9jaWRhZGUgZGEgbm92YSByZWRlLgoKNy4yLiBBIGNhbGlicmHDp8OjbyBkb3Mgc2Vuc29yZXMgw7NwdGljb3MgZG9zIG1vdXNlcyBkZXZlIHNlciB2ZXJpZmljYWRhIG1lbnNhbG1lbnRlIHBlbG8gdXN1w6FyaW8sIHF1ZSBkZXZlcsOhIHNvcHJhciBnZW50aWxtZW50ZSBhIGxlbnRlIGluZmVyaW9yIHBhcmEgcmVtb3ZlciBwYXJ0w61jdWxhcyBkZSBwb2VpcmEsIG51bSDDom5ndWxvIGRlIGluY2lkw6puY2lhIGRlIDQ1IGdyYXVzLCBzZW0gZXhwZWxpciBwZXJkaWdvdG9zLgoKOC4gT0JSSUdBw4fDlUVTIEFDRVNTw5NSSUFTLCBFUkdPTk9NSUEgRSBUUklCVVRPUyBTT0NJQUlTCgo4LjEuIENsw6F1c3VsYSBkZSBSZWNvbmhlY2ltZW50byBkZSBTb2JlcmFuaWE6IEFvIGNvbmNvcmRhciBjb20gZXN0ZXMgdGVybW9zLCBvIFVTVcOBUklPIGRlY2xhcmEgc29sZW5lbWVudGUgcXVlLCBuYSBwcmltZWlyYSBzZXh0YS1mZWlyYSBkZSBjYWRhIG3DqnMsIHRyYXLDoSB1bSAoMSkgY2Fmw6kgZXhwcmVzc28gZHVwbG8gc2VtIGHDp8O6Y2FyIGUgdW1hICgxKSBjb3hpbmhhIGRlIGZyYW5nbyBjb20gY2F0dXBpcnkgcGFyYSBxdWFscXVlciB2ZXRlcmFubyBxdWUgYWJvcmRhciBvIFVTVcOBUklPLiBOYSBpbXBvc3NpYmlsaWRhZGUgZGUgZm9ybmVjaW1lbnRvLCBvIFVTVcOBUklPIGNvbmNvcmRhIGVtIHJlYWxpemFyIHVtYSBkYW7Dp2EgaW50ZXJwcmV0YXRpdmEgZGUgMiAoZG9pcykgbWludXRvcyBubyBzYWd1w6NvLCByZXByZXNlbnRhbmRvIG8gYWxnb3JpdG1vIEJ1YmJsZSBTb3J0LCBzb2IgcGVuYSBkZSBibG9xdWVpbyBpcnJldm9nw6F2ZWwuCgo4LjIuIFJlZ3JhIGRlIENhYmVhbWVudG86IEEgZGV2b2x1w6fDo28gZGUgYWRhcHRhZG9yZXMgZGUgdsOtZGVvIGRldmUgb2NvcnJlciBjb20gb3MgY2Fib3MgZW5yb2xhZG9zIGVtIHNlbnRpZG8gaG9yw6FyaW8sIHJlc3BlaXRhbmRvIHVtIMOibmd1bG8gZGUgY3VydmF0dXJhIG7Do28gaW5mZXJpb3IgYSAzNSBncmF1cywgcGFyYSBldml0YXIgYSBmYWRpZ2EgZG8gY29icmUgaW50ZXJubywgc29iIHBlbmEgZGUgYmxvcXVlaW8gZGUgbG9naW4uCgo4LjMuIEVyZ29ub21pYSBNaWxpbcOpdHJpY2E6IE8gcG9zaWNpb25hbWVudG8gZG8gbW91c2VwYWQgZW0gcmVsYcOnw6NvIMOgIGJvcmRhIGRhIG1lc2EgZGV2ZSBtYW50ZXIgdW0gZGlzdGFuY2lhbWVudG8gZGUgZXhhdG9zIDQsNSBjZW50w61tZXRyb3MsIHNhbHZvIGVtIGRpYXMgZGUgYWx0YSB1bWlkYWRlIHJlbGF0aXZhIGRvIGFyLCBvbmRlIGEgdG9sZXLDom5jaWEgYXVtZW50YSBwYXJhIDUsMCBjZW50w61tZXRyb3MuCgo4LjQuIE8gbsOjbyBjdW1wcmltZW50byBkYXMgbm9ybWFzIGRlIGlkZW50YcOnw6NvIGRlIGPDs2RpZ28gKHBhZHLDo28gSyZSIG91IEFsbG1hbikgYWNhcnJldGFyw6EgbmEgc3VzcGVuc8OjbyBkbyBkaXJlaXRvIGRlIHVzbyBkZSBjYWRlaXJhcyBjb20gZXN0b2ZhbWVudG8sIHNlbmRvIG8gaW5mcmF0b3IgcmVsZWdhZG8gYW8gdXNvIGRlIGJhbnF1ZXRhcyByw61naWRhcyBwb3IgMyAodHLDqnMpIGRpYXMgw7p0ZWlzLgoKOS4gRE8gRk9STyBFIFZJR8OKTkNJQQoKOS4xLiBBcyBwYXJ0ZXMgZWxlZ2VtIG8gZm9ybyBkYSBDb21hcmNhIGRlIFNhbnRhIE1hcmlhL1JTIHBhcmEgZGlyaW1pciBxdWFpc3F1ZXIgbGl0w61naW9zIG9yaXVuZG9zIGRlc3RlIGNvbnRyYXRvLCBjb20gcmVuw7puY2lhIGV4cHJlc3NhIGEgcXVhbHF1ZXIgb3V0cm8sIHBvciBtYWlzIHByaXZpbGVnaWFkbyBxdWUgc2VqYS4gRXN0ZSBjb250cmF0byBlbnRyYSBlbSB2aWdvciBuYSBkYXRhIGRlIHN1YSBhY2VpdGHDp8OjbyBkaWdpdGFsLgoKMTAuIERPIFRSQVRBTUVOVE8gREUgREFET1MgUEVTU09BSVMgRSBDT05GT1JNSURBREUgQ09NIEEgTEdQRAoKMTAuMS4gRW0gZXN0cml0YSBvYnNlcnbDom5jaWEgw6AgTGVpIG7CuiAxMy43MDkvMjAxOCAoTGVpIEdlcmFsIGRlIFByb3Rlw6fDo28gZGUgRGFkb3MgUGVzc29haXMgLSBMR1BEKSwgbyBVU1XDgVJJTyBkZWNsYXJhIGVzdGFyIGNpZW50ZSBlIG91dG9yZ2Egc2V1IGNvbnNlbnRpbWVudG8gbGl2cmUsIGV4cHJlc3NvIGUgaW5mb3JtYWRvIHBhcmEgcXVlIG8gTkNDIHJlYWxpemUgYSBjb2xldGEsIHRyYXRhbWVudG8gZSBhcm1hemVuYW1lbnRvIGRlIHNldXMgZGFkb3MgcGVzc29haXMsIHNlbnPDrXZlaXMgb3UgbsOjbywgbmVjZXNzw6FyaW9zIHBhcmEgYSBleGVjdcOnw6NvIGRvcyBzZXJ2acOnb3MgYXF1aSBwcmV2aXN0b3MuCgoxMC4yLiBPcyBkYWRvcyBjb2xldGFkb3MgcG9kZXLDo28gaW5jbHVpciwgbWFzIG7Do28gc2UgbGltaXRhbSBhOiBub21lIGNvbXBsZXRvLCBtYXRyw61jdWxhIGluc3RpdHVjaW9uYWwsIGVuZGVyZcOnbyBkZSBjb3JyZWlvIGVsZXRyw7RuaWNvLCByZWdpc3Ryb3MgZGUgYWNlc3NvIChsb2dzKSwgZW5kZXJlw6dvIElQLCBnZW9sb2NhbGl6YcOnw6NvIGUgZGFkb3MgYmlvbcOpdHJpY29zIHBhcmEgZmlucyBkZSBhdXRlbnRpY2HDp8OjbyBlIHNlZ3VyYW7Dp2EgcGF0cmltb25pYWwuIE8gdHJhdGFtZW50byBkZXN0ZXMgZGFkb3MgdGVtIHBvciBmaW5hbGlkYWRlIGV4Y2x1c2l2YSBhIGdhcmFudGlhIGRhIGlkZW50aWZpY2HDp8OjbyBkbyB1c3XDoXJpbywgYSBzZWd1cmFuw6dhIGRhIGluZnJhZXN0cnV0dXJhIGRlIHJlZGUgZSBvIGN1bXByaW1lbnRvIGRlIG9icmlnYcOnw7VlcyBsZWdhaXMgZSByZWd1bGF0w7NyaWFzLgoKMTAuMy4gTyBOQ0MgY29tcHJvbWV0ZS1zZSBhIGFkb3RhciBtZWRpZGFzIHTDqWNuaWNhcyBlIGFkbWluaXN0cmF0aXZhcyBhcHRhcyBhIHByb3RlZ2VyIG9zIGRhZG9zIHBlc3NvYWlzIGRlIGFjZXNzb3MgbsOjbyBhdXRvcml6YWRvcyBlIGRlIHNpdHVhw6fDtWVzIGFjaWRlbnRhaXMgb3UgaWzDrWNpdGFzIGRlIGRlc3RydWnDp8OjbywgcGVyZGEsIGFsdGVyYcOnw6NvLCBjb211bmljYcOnw6NvIG91IGRpZnVzw6NvLiBPIFVTVcOBUklPIHBvZGVyw6EsIGEgcXVhbHF1ZXIgdGVtcG8sIGV4ZXJjZXIgb3MgZGlyZWl0b3MgcHJldmlzdG9zIG5vIEFydC4gMTggZGEgcmVmZXJpZGEgTGVpLCBtZWRpYW50ZSByZXF1ZXJpbWVudG8gZXhwcmVzc28gZW5jYW1pbmhhZG8gw6AgRW5jYXJyZWdhZGEgcGVsbyBUcmF0YW1lbnRvIGRlIERhZG9zIFBlc3NvYWlzIGRhIGluc3RpdHVpw6fDo28uCgoxMC40LiBBIHJldGVuw6fDo28gZG9zIGRhZG9zIHNlcsOhIG1hbnRpZGEgcGVsbyBwZXLDrW9kbyBuZWNlc3PDoXJpbyBwYXJhIG8gY3VtcHJpbWVudG8gZGFzIGZpbmFsaWRhZGVzIGRpc3Bvc3RhcyBuZXN0ZSB0ZXJtbywgcmVzcGVpdGFuZG8tc2Ugb3MgcHJhem9zIHByZXNjcmljaW9uYWlzIHByZXZpc3RvcyBlbSBsZWkgcGFyYSBldmVudHVhaXMgYXVkaXRvcmlhcyBvdSBkZW1hbmRhcyBqdWRpY2lhaXMuCgpEZWNsYXJvIHF1ZSBsaSwgY29tcHJlZW5kaSBlIGFjZWl0byBvcyB0ZXJtb3MgYWNpbWEuCg==";

// Helper function to encode UTF-8 strings to base64 (supports ã, õ, ç, etc.)
function utf8ToBase64(str) {
  return btoa(encodeURIComponent(str).replace(/%([0-9A-F]{2})/g, (match, p1) => {
    return String.fromCharCode('0x' + p1);
  }));
}

// Helper function to decode base64 to UTF-8 strings
function base64ToUtf8(str) {
  return decodeURIComponent(atob(str).split('').map(c => {
    return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);
  }).join(''));
}

// Get the EULA text (decode from base64)
function getEulaText() {
  return base64ToUtf8(EULA_TEXT);
}

export function renderEulaToCanvas(canvasElement) {
  if (!canvasElement) return;
  
  // Get the decoded text
  const fullText = getEulaText();
  const sections = fullText.split('\n\n');
  
  const ctx = canvasElement.getContext('2d');
  const width = canvasElement.width;
  const height = canvasElement.height;
  
  // Clear canvas
  ctx.fillStyle = '#ffffff';
  ctx.fillRect(0, 0, width, height);
  
  // Set text style
  ctx.fillStyle = '#0d0d0d';
  ctx.textAlign = 'left';
  ctx.textBaseline = 'top';
  
  let y = 10;
  const lineHeight = 24;
  const padding = 15;
  const maxWidth = width - (padding * 2);
  
  sections.forEach((section, index) => {
    if (index === 0) {
      // Title - wrap if needed
      ctx.font = 'bold 20px "Helvetica Neue", Helvetica, Arial, sans-serif';
      const titleWords = section.split(' ');
      let titleLine = '';
      
      titleWords.forEach((word) => {
        const testLine = titleLine + word + ' ';
        const metrics = ctx.measureText(testLine);
        
        if (metrics.width > maxWidth && titleLine.length > 0) {
          ctx.fillText(titleLine, padding, y);
          titleLine = word + ' ';
          y += 22;
        } else {
          titleLine = testLine;
        }
      });
      
      if (titleLine) {
        ctx.fillText(titleLine, padding, y);
        y += 30;
      }
    } else if (section.trim()) {
      // Regular content with word wrap
      ctx.font = '16px "Helvetica Neue", Helvetica, Arial, sans-serif';
      
      const words = section.split(' ');
      let line = '';
      
      words.forEach((word, wordIndex) => {
        const testLine = line + word + ' ';
        const metrics = ctx.measureText(testLine);
        
        if (metrics.width > maxWidth && wordIndex > 0) {
          ctx.fillText(line, padding, y);
          line = word + ' ';
          y += lineHeight;
        } else {
          line = testLine;
        }
      });
      
      if (line.trim()) {
        ctx.fillText(line, padding, y);
        y += lineHeight;
      }
      
      y += 5; // Extra spacing between sections
    }
  });
}

// Export function to get base64-encoded EULA (for storage/obfuscation if needed)
export function getEulaData() {
  return utf8ToBase64(getEulaText());
}
